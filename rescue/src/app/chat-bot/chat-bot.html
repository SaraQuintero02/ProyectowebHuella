<div class="chatbot-container">
  <!-- Popup del chatbot -->
  <div 
    class="chatbot-popup" 
    id="chatbotPopup"
    [class.show]="isPopupVisible"
    [attr.aria-hidden]="!isPopupVisible"
  >
    <!-- Header del popup -->
    <div class="popup-header">
      <strong>Bienvenido a Rescate Animal</strong>
      <span 
        id="closePopup" 
        (click)="closeChatbotPopup()"
        title="Cerrar"
        aria-label="Cerrar chatbot"
      >
        &times;
      </span>
    </div>
    
    <!-- Cuerpo del popup -->
    <div class="popup-body">
      <p>
        ¿Buscas adoptar, rescatar o apoyar nuestra causa? <br />
        Selecciona una de nuestras líneas de atención para comenzar.
      </p>
      
      <!-- Enlaces de WhatsApp generados dinámicamente -->
      <button 
        *ngFor="let link of whatsappLinks" 
        class="popup-btn"
        (click)="openWhatsAppLink(link.url)"
        [attr.aria-label]="'Abrir ' + link.label"
      >
        {{ link.label }}
      </button>
    </div>
  </div>

  <!-- Botón flotante del chatbot -->
  <button 
    class="chatbot-float" 
    id="chatbotButton"
    (click)="toggleChatbotPopup($event)"
    aria-label="Abrir chat bot"
    title="Chat de ayuda"
  >
    <i class="fa-solid fa-comment" aria-hidden="true"></i>
  </button>
</div>

<!-- Botón de scroll hacia arriba -->
<button 
  class="scroll-to-top" 
  id="scrollButton"
  [class.visible]="isScrollButtonVisible"
  (click)="scrollToTop($event)"
  aria-label="Subir arriba"
  title="Ir arriba"
>
  <i class="fa-solid fa-arrow-up" aria-hidden="true"></i>
</button>